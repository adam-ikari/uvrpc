\hypertarget{group__ContextAPI}{}\doxysection{Context API}
\label{group__ContextAPI}\index{Context API@{Context API}}


Functions for managing user contexts.  


\doxysubsection*{Functions}
\begin{DoxyCompactItemize}
\item 
void \mbox{\hyperlink{group__ContextAPI_gac511daa456d961be8b7e68bdc019a791}{uvrpc\+\_\+context\+\_\+free}} (\mbox{\hyperlink{uvrpc_8h_a1267360dffceedbb9a190699dbe91c52}{uvrpc\+\_\+context\+\_\+t}} $\ast$ctx)
\begin{DoxyCompactList}\small\item\em Free a context. \end{DoxyCompactList}\item 
void $\ast$ \mbox{\hyperlink{group__ContextAPI_ga2db05f28b07941e325732e7fe20625b5}{uvrpc\+\_\+context\+\_\+get\+\_\+data}} (\mbox{\hyperlink{uvrpc_8h_a1267360dffceedbb9a190699dbe91c52}{uvrpc\+\_\+context\+\_\+t}} $\ast$ctx)
\begin{DoxyCompactList}\small\item\em Get user data from context. \end{DoxyCompactList}\item 
\mbox{\hyperlink{uvrpc_8h_a1267360dffceedbb9a190699dbe91c52}{uvrpc\+\_\+context\+\_\+t}} $\ast$ \mbox{\hyperlink{group__ContextAPI_gacb2b86cd4c9a4076997f54085e03818c}{uvrpc\+\_\+context\+\_\+new}} (void $\ast$data)
\begin{DoxyCompactList}\small\item\em Create a new context with user data. \end{DoxyCompactList}\item 
\mbox{\hyperlink{uvrpc_8h_a1267360dffceedbb9a190699dbe91c52}{uvrpc\+\_\+context\+\_\+t}} $\ast$ \mbox{\hyperlink{group__ContextAPI_ga25f875304e174c915b572bc46320e9d6}{uvrpc\+\_\+context\+\_\+new\+\_\+with\+\_\+cleanup}} (void $\ast$data, \mbox{\hyperlink{uvrpc_8h_a30423b2a2d6b28e49be2dab4179f2d45}{uvrpc\+\_\+context\+\_\+cleanup\+\_\+t}} cleanup, void $\ast$cleanup\+\_\+data)
\begin{DoxyCompactList}\small\item\em Create a new context with cleanup callback. \end{DoxyCompactList}\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
Functions for managing user contexts. 



\doxysubsection{Function Documentation}
\mbox{\Hypertarget{group__ContextAPI_gac511daa456d961be8b7e68bdc019a791}\label{group__ContextAPI_gac511daa456d961be8b7e68bdc019a791}} 
\index{Context API@{Context API}!uvrpc\_context\_free@{uvrpc\_context\_free}}
\index{uvrpc\_context\_free@{uvrpc\_context\_free}!Context API@{Context API}}
\doxysubsubsection{\texorpdfstring{uvrpc\_context\_free()}{uvrpc\_context\_free()}}
{\footnotesize\ttfamily void uvrpc\+\_\+context\+\_\+free (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{uvrpc_8h_a1267360dffceedbb9a190699dbe91c52}{uvrpc\+\_\+context\+\_\+t}} $\ast$}]{ctx }\end{DoxyParamCaption})}



Free a context. 

If a cleanup callback was registered, it will be called.


\begin{DoxyParams}{Parameters}
{\em ctx} & Context to free \\
\hline
\end{DoxyParams}


Definition at line \mbox{\hyperlink{uvrpc__context_8c_source_l00040}{40}} of file \mbox{\hyperlink{uvrpc__context_8c_source}{uvrpc\+\_\+context.\+c}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00040                                               \{}
\DoxyCodeLine{00041     \textcolor{keywordflow}{if} (!ctx) \textcolor{keywordflow}{return};}
\DoxyCodeLine{00042     }
\DoxyCodeLine{00043     \textcolor{keywordflow}{if} (ctx-\/>\mbox{\hyperlink{structuvrpc__context_a1136b9e99f6f2b4fe81f4597599a8fbf}{cleanup}} \&\& ctx-\/>\mbox{\hyperlink{structuvrpc__context_aedb9ed5f972a21ce81e09ea496ec338e}{data}}) \{}
\DoxyCodeLine{00044         ctx-\/>\mbox{\hyperlink{structuvrpc__context_a1136b9e99f6f2b4fe81f4597599a8fbf}{cleanup}}(ctx-\/>\mbox{\hyperlink{structuvrpc__context_aedb9ed5f972a21ce81e09ea496ec338e}{data}}, ctx-\/>\mbox{\hyperlink{structuvrpc__context_a7bf5eac8dfe31f5d694f0b2c64e0a64d}{cleanup\_data}});}
\DoxyCodeLine{00045     \}}
\DoxyCodeLine{00046     }
\DoxyCodeLine{00047     \mbox{\hyperlink{group__AllocatorAPI_ga067f00c05f4a005dae8fc92d39875de4}{uvrpc\_free}}(ctx);}
\DoxyCodeLine{00048 \}}

\end{DoxyCode}


References \mbox{\hyperlink{uvrpc_8h_source_l00143}{uvrpc\+\_\+context\+::cleanup}}, \mbox{\hyperlink{uvrpc_8h_source_l00144}{uvrpc\+\_\+context\+::cleanup\+\_\+data}}, \mbox{\hyperlink{uvrpc_8h_source_l00142}{uvrpc\+\_\+context\+::data}}, and \mbox{\hyperlink{uvrpc__allocator_8c_source_l00170}{uvrpc\+\_\+free()}}.

\mbox{\Hypertarget{group__ContextAPI_ga2db05f28b07941e325732e7fe20625b5}\label{group__ContextAPI_ga2db05f28b07941e325732e7fe20625b5}} 
\index{Context API@{Context API}!uvrpc\_context\_get\_data@{uvrpc\_context\_get\_data}}
\index{uvrpc\_context\_get\_data@{uvrpc\_context\_get\_data}!Context API@{Context API}}
\doxysubsubsection{\texorpdfstring{uvrpc\_context\_get\_data()}{uvrpc\_context\_get\_data()}}
{\footnotesize\ttfamily void $\ast$ uvrpc\+\_\+context\+\_\+get\+\_\+data (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{uvrpc_8h_a1267360dffceedbb9a190699dbe91c52}{uvrpc\+\_\+context\+\_\+t}} $\ast$}]{ctx }\end{DoxyParamCaption})}



Get user data from context. 


\begin{DoxyParams}{Parameters}
{\em ctx} & Context instance \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
User data pointer 
\end{DoxyReturn}


Definition at line \mbox{\hyperlink{uvrpc__context_8c_source_l00051}{51}} of file \mbox{\hyperlink{uvrpc__context_8c_source}{uvrpc\+\_\+context.\+c}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00051                                                    \{}
\DoxyCodeLine{00052     \textcolor{keywordflow}{return} ctx ? ctx-\/>\mbox{\hyperlink{structuvrpc__context_aedb9ed5f972a21ce81e09ea496ec338e}{data}} : NULL;}
\DoxyCodeLine{00053 \}}

\end{DoxyCode}


References \mbox{\hyperlink{uvrpc_8h_source_l00142}{uvrpc\+\_\+context\+::data}}.

\mbox{\Hypertarget{group__ContextAPI_gacb2b86cd4c9a4076997f54085e03818c}\label{group__ContextAPI_gacb2b86cd4c9a4076997f54085e03818c}} 
\index{Context API@{Context API}!uvrpc\_context\_new@{uvrpc\_context\_new}}
\index{uvrpc\_context\_new@{uvrpc\_context\_new}!Context API@{Context API}}
\doxysubsubsection{\texorpdfstring{uvrpc\_context\_new()}{uvrpc\_context\_new()}}
{\footnotesize\ttfamily \mbox{\hyperlink{uvrpc_8h_a1267360dffceedbb9a190699dbe91c52}{uvrpc\+\_\+context\+\_\+t}} $\ast$ uvrpc\+\_\+context\+\_\+new (\begin{DoxyParamCaption}\item[{void $\ast$}]{data }\end{DoxyParamCaption})}



Create a new context with user data. 


\begin{DoxyParams}{Parameters}
{\em data} & User data to attach \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
New context instance, or NULL on failure 
\end{DoxyReturn}


Definition at line \mbox{\hyperlink{uvrpc__context_8c_source_l00019}{19}} of file \mbox{\hyperlink{uvrpc__context_8c_source}{uvrpc\+\_\+context.\+c}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00019                                                \{}
\DoxyCodeLine{00020     \mbox{\hyperlink{structuvrpc__context}{uvrpc\_context\_t}}* ctx = (\mbox{\hyperlink{structuvrpc__context}{uvrpc\_context\_t}}*)\mbox{\hyperlink{group__AllocatorAPI_ga91fe7dfcd5db69a938f8e8e9291677ae}{uvrpc\_calloc}}(1, \textcolor{keyword}{sizeof}(\mbox{\hyperlink{structuvrpc__context}{uvrpc\_context\_t}}));}
\DoxyCodeLine{00021     \textcolor{keywordflow}{if} (ctx) \{}
\DoxyCodeLine{00022         ctx-\/>\mbox{\hyperlink{structuvrpc__context_aedb9ed5f972a21ce81e09ea496ec338e}{data}} = data;}
\DoxyCodeLine{00023     \}}
\DoxyCodeLine{00024     \textcolor{keywordflow}{return} ctx;}
\DoxyCodeLine{00025 \}}

\end{DoxyCode}


References \mbox{\hyperlink{uvrpc_8h_source_l00142}{uvrpc\+\_\+context\+::data}}, and \mbox{\hyperlink{uvrpc__allocator_8c_source_l00134}{uvrpc\+\_\+calloc()}}.



Referenced by \mbox{\hyperlink{uvrpc__context_8c_source_l00028}{uvrpc\+\_\+context\+\_\+new\+\_\+with\+\_\+cleanup()}}.

\mbox{\Hypertarget{group__ContextAPI_ga25f875304e174c915b572bc46320e9d6}\label{group__ContextAPI_ga25f875304e174c915b572bc46320e9d6}} 
\index{Context API@{Context API}!uvrpc\_context\_new\_with\_cleanup@{uvrpc\_context\_new\_with\_cleanup}}
\index{uvrpc\_context\_new\_with\_cleanup@{uvrpc\_context\_new\_with\_cleanup}!Context API@{Context API}}
\doxysubsubsection{\texorpdfstring{uvrpc\_context\_new\_with\_cleanup()}{uvrpc\_context\_new\_with\_cleanup()}}
{\footnotesize\ttfamily \mbox{\hyperlink{uvrpc_8h_a1267360dffceedbb9a190699dbe91c52}{uvrpc\+\_\+context\+\_\+t}} $\ast$ uvrpc\+\_\+context\+\_\+new\+\_\+with\+\_\+cleanup (\begin{DoxyParamCaption}\item[{void $\ast$}]{data,  }\item[{\mbox{\hyperlink{uvrpc_8h_a30423b2a2d6b28e49be2dab4179f2d45}{uvrpc\+\_\+context\+\_\+cleanup\+\_\+t}}}]{cleanup,  }\item[{void $\ast$}]{cleanup\+\_\+data }\end{DoxyParamCaption})}



Create a new context with cleanup callback. 


\begin{DoxyParams}{Parameters}
{\em data} & User data to attach \\
\hline
{\em cleanup} & Cleanup callback function \\
\hline
{\em cleanup\+\_\+data} & Data passed to cleanup callback \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
New context instance, or NULL on failure 
\end{DoxyReturn}


Definition at line \mbox{\hyperlink{uvrpc__context_8c_source_l00028}{28}} of file \mbox{\hyperlink{uvrpc__context_8c_source}{uvrpc\+\_\+context.\+c}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00030                                                                       \{}
\DoxyCodeLine{00031     \mbox{\hyperlink{structuvrpc__context}{uvrpc\_context\_t}}* ctx = \mbox{\hyperlink{group__ContextAPI_gacb2b86cd4c9a4076997f54085e03818c}{uvrpc\_context\_new}}(data);}
\DoxyCodeLine{00032     \textcolor{keywordflow}{if} (ctx) \{}
\DoxyCodeLine{00033         ctx-\/>\mbox{\hyperlink{structuvrpc__context_a1136b9e99f6f2b4fe81f4597599a8fbf}{cleanup}} = cleanup;}
\DoxyCodeLine{00034         ctx-\/>\mbox{\hyperlink{structuvrpc__context_a7bf5eac8dfe31f5d694f0b2c64e0a64d}{cleanup\_data}} = cleanup\_data;}
\DoxyCodeLine{00035     \}}
\DoxyCodeLine{00036     \textcolor{keywordflow}{return} ctx;}
\DoxyCodeLine{00037 \}}

\end{DoxyCode}


References \mbox{\hyperlink{uvrpc_8h_source_l00143}{uvrpc\+\_\+context\+::cleanup}}, \mbox{\hyperlink{uvrpc_8h_source_l00144}{uvrpc\+\_\+context\+::cleanup\+\_\+data}}, and \mbox{\hyperlink{uvrpc__context_8c_source_l00019}{uvrpc\+\_\+context\+\_\+new()}}.

