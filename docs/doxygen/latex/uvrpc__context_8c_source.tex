\hypertarget{uvrpc__context_8c_source}{}\doxysection{uvrpc\+\_\+context.\+c}
\label{uvrpc__context_8c_source}\index{src/uvrpc\_context.c@{src/uvrpc\_context.c}}
\mbox{\hyperlink{uvrpc__context_8c}{Go to the documentation of this file.}}
\begin{DoxyCode}{0}
\DoxyCodeLine{\Hypertarget{uvrpc__context_8c_source_l00001}00001 }
\DoxyCodeLine{\Hypertarget{uvrpc__context_8c_source_l00013}00013 \textcolor{preprocessor}{\#include "{}../include/uvrpc.h"{}}}
\DoxyCodeLine{\Hypertarget{uvrpc__context_8c_source_l00014}00014 \textcolor{preprocessor}{\#include "{}../include/uvrpc\_allocator.h"{}}}
\DoxyCodeLine{\Hypertarget{uvrpc__context_8c_source_l00015}00015 \textcolor{preprocessor}{\#include <stdlib.h>}}
\DoxyCodeLine{\Hypertarget{uvrpc__context_8c_source_l00016}00016 \textcolor{preprocessor}{\#include <string.h>}}
\DoxyCodeLine{\Hypertarget{uvrpc__context_8c_source_l00017}00017 }
\DoxyCodeLine{\Hypertarget{uvrpc__context_8c_source_l00018}00018 \textcolor{comment}{/* Create new context */}}
\DoxyCodeLine{\Hypertarget{uvrpc__context_8c_source_l00019}\mbox{\hyperlink{group__ContextAPI_gacb2b86cd4c9a4076997f54085e03818c}{00019}} \mbox{\hyperlink{structuvrpc__context}{uvrpc\_context\_t}}* \mbox{\hyperlink{group__ContextAPI_gacb2b86cd4c9a4076997f54085e03818c}{uvrpc\_context\_new}}(\textcolor{keywordtype}{void}* data) \{}
\DoxyCodeLine{\Hypertarget{uvrpc__context_8c_source_l00020}00020     \mbox{\hyperlink{structuvrpc__context}{uvrpc\_context\_t}}* ctx = (\mbox{\hyperlink{structuvrpc__context}{uvrpc\_context\_t}}*)\mbox{\hyperlink{group__AllocatorAPI_ga91fe7dfcd5db69a938f8e8e9291677ae}{uvrpc\_calloc}}(1, \textcolor{keyword}{sizeof}(\mbox{\hyperlink{structuvrpc__context}{uvrpc\_context\_t}}));}
\DoxyCodeLine{\Hypertarget{uvrpc__context_8c_source_l00021}00021     \textcolor{keywordflow}{if} (ctx) \{}
\DoxyCodeLine{\Hypertarget{uvrpc__context_8c_source_l00022}00022         ctx-\/>\mbox{\hyperlink{structuvrpc__context_aedb9ed5f972a21ce81e09ea496ec338e}{data}} = data;}
\DoxyCodeLine{\Hypertarget{uvrpc__context_8c_source_l00023}00023     \}}
\DoxyCodeLine{\Hypertarget{uvrpc__context_8c_source_l00024}00024     \textcolor{keywordflow}{return} ctx;}
\DoxyCodeLine{\Hypertarget{uvrpc__context_8c_source_l00025}00025 \}}
\DoxyCodeLine{\Hypertarget{uvrpc__context_8c_source_l00026}00026 }
\DoxyCodeLine{\Hypertarget{uvrpc__context_8c_source_l00027}00027 \textcolor{comment}{/* Create new context with cleanup callback */}}
\DoxyCodeLine{\Hypertarget{uvrpc__context_8c_source_l00028}\mbox{\hyperlink{group__ContextAPI_ga25f875304e174c915b572bc46320e9d6}{00028}} \mbox{\hyperlink{structuvrpc__context}{uvrpc\_context\_t}}* \mbox{\hyperlink{group__ContextAPI_ga25f875304e174c915b572bc46320e9d6}{uvrpc\_context\_new\_with\_cleanup}}(\textcolor{keywordtype}{void}* data, }
\DoxyCodeLine{\Hypertarget{uvrpc__context_8c_source_l00029}00029                                                   \mbox{\hyperlink{uvrpc_8h_a30423b2a2d6b28e49be2dab4179f2d45}{uvrpc\_context\_cleanup\_t}} cleanup,}
\DoxyCodeLine{\Hypertarget{uvrpc__context_8c_source_l00030}00030                                                   \textcolor{keywordtype}{void}* cleanup\_data) \{}
\DoxyCodeLine{\Hypertarget{uvrpc__context_8c_source_l00031}00031     \mbox{\hyperlink{structuvrpc__context}{uvrpc\_context\_t}}* ctx = \mbox{\hyperlink{group__ContextAPI_gacb2b86cd4c9a4076997f54085e03818c}{uvrpc\_context\_new}}(data);}
\DoxyCodeLine{\Hypertarget{uvrpc__context_8c_source_l00032}00032     \textcolor{keywordflow}{if} (ctx) \{}
\DoxyCodeLine{\Hypertarget{uvrpc__context_8c_source_l00033}00033         ctx-\/>\mbox{\hyperlink{structuvrpc__context_a1136b9e99f6f2b4fe81f4597599a8fbf}{cleanup}} = cleanup;}
\DoxyCodeLine{\Hypertarget{uvrpc__context_8c_source_l00034}00034         ctx-\/>\mbox{\hyperlink{structuvrpc__context_a7bf5eac8dfe31f5d694f0b2c64e0a64d}{cleanup\_data}} = cleanup\_data;}
\DoxyCodeLine{\Hypertarget{uvrpc__context_8c_source_l00035}00035     \}}
\DoxyCodeLine{\Hypertarget{uvrpc__context_8c_source_l00036}00036     \textcolor{keywordflow}{return} ctx;}
\DoxyCodeLine{\Hypertarget{uvrpc__context_8c_source_l00037}00037 \}}
\DoxyCodeLine{\Hypertarget{uvrpc__context_8c_source_l00038}00038 }
\DoxyCodeLine{\Hypertarget{uvrpc__context_8c_source_l00039}00039 \textcolor{comment}{/* Free context */}}
\DoxyCodeLine{\Hypertarget{uvrpc__context_8c_source_l00040}\mbox{\hyperlink{group__ContextAPI_gac511daa456d961be8b7e68bdc019a791}{00040}} \textcolor{keywordtype}{void} \mbox{\hyperlink{group__ContextAPI_gac511daa456d961be8b7e68bdc019a791}{uvrpc\_context\_free}}(\mbox{\hyperlink{structuvrpc__context}{uvrpc\_context\_t}}* ctx) \{}
\DoxyCodeLine{\Hypertarget{uvrpc__context_8c_source_l00041}00041     \textcolor{keywordflow}{if} (!ctx) \textcolor{keywordflow}{return};}
\DoxyCodeLine{\Hypertarget{uvrpc__context_8c_source_l00042}00042     }
\DoxyCodeLine{\Hypertarget{uvrpc__context_8c_source_l00043}00043     \textcolor{keywordflow}{if} (ctx-\/>\mbox{\hyperlink{structuvrpc__context_a1136b9e99f6f2b4fe81f4597599a8fbf}{cleanup}} \&\& ctx-\/>\mbox{\hyperlink{structuvrpc__context_aedb9ed5f972a21ce81e09ea496ec338e}{data}}) \{}
\DoxyCodeLine{\Hypertarget{uvrpc__context_8c_source_l00044}00044         ctx-\/>\mbox{\hyperlink{structuvrpc__context_a1136b9e99f6f2b4fe81f4597599a8fbf}{cleanup}}(ctx-\/>\mbox{\hyperlink{structuvrpc__context_aedb9ed5f972a21ce81e09ea496ec338e}{data}}, ctx-\/>\mbox{\hyperlink{structuvrpc__context_a7bf5eac8dfe31f5d694f0b2c64e0a64d}{cleanup\_data}});}
\DoxyCodeLine{\Hypertarget{uvrpc__context_8c_source_l00045}00045     \}}
\DoxyCodeLine{\Hypertarget{uvrpc__context_8c_source_l00046}00046     }
\DoxyCodeLine{\Hypertarget{uvrpc__context_8c_source_l00047}00047     \mbox{\hyperlink{group__AllocatorAPI_ga067f00c05f4a005dae8fc92d39875de4}{uvrpc\_free}}(ctx);}
\DoxyCodeLine{\Hypertarget{uvrpc__context_8c_source_l00048}00048 \}}
\DoxyCodeLine{\Hypertarget{uvrpc__context_8c_source_l00049}00049 }
\DoxyCodeLine{\Hypertarget{uvrpc__context_8c_source_l00050}00050 \textcolor{comment}{/* Get context data */}}
\DoxyCodeLine{\Hypertarget{uvrpc__context_8c_source_l00051}\mbox{\hyperlink{group__ContextAPI_ga2db05f28b07941e325732e7fe20625b5}{00051}} \textcolor{keywordtype}{void}* \mbox{\hyperlink{group__ContextAPI_ga2db05f28b07941e325732e7fe20625b5}{uvrpc\_context\_get\_data}}(\mbox{\hyperlink{structuvrpc__context}{uvrpc\_context\_t}}* ctx) \{}
\DoxyCodeLine{\Hypertarget{uvrpc__context_8c_source_l00052}00052     \textcolor{keywordflow}{return} ctx ? ctx-\/>\mbox{\hyperlink{structuvrpc__context_aedb9ed5f972a21ce81e09ea496ec338e}{data}} : NULL;}
\DoxyCodeLine{\Hypertarget{uvrpc__context_8c_source_l00053}00053 \}}

\end{DoxyCode}
