<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.4"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>UVRPC: src/uvrpc_client.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">UVRPC<span id="projectnumber">&#160;0.1.0</span>
   </div>
   <div id="projectbrief">Ultra-Fast RPC Framework</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.4 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search",'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_68267d1309a1af8e8297ef4c3efbcdba.html">src</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#typedef-members">Typedefs</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle"><div class="title">uvrpc_client.c File Reference</div></div>
</div><!--header-->
<div class="contents">

<p>UVRPC Async Client Implementation.  
<a href="#details">More...</a></p>

<p><a href="uvrpc__client_8c_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="nested-classes" name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structpending__callback.html">pending_callback</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structuvrpc__client.html">uvrpc_client</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="typedef-members" name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr class="memitem:a58e06cf77abc45d36956579a4a535ae6"><td class="memItemLeft" align="right" valign="top">typedef struct <a class="el" href="structpending__callback.html">pending_callback</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="uvrpc__client_8c.html#a58e06cf77abc45d36956579a4a535ae6">pending_callback_t</a></td></tr>
<tr class="separator:a58e06cf77abc45d36956579a4a535ae6"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a7ce15eabfef2abbe73267eda9cd0bb76"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="uvrpc__client_8c.html#a7ce15eabfef2abbe73267eda9cd0bb76">client_connect_callback</a> (int status, void *ctx)</td></tr>
<tr class="separator:a7ce15eabfef2abbe73267eda9cd0bb76"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9776df4de45728a0226ead2bb7617589"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="uvrpc__client_8c.html#a9776df4de45728a0226ead2bb7617589">client_recv_callback</a> (const uint8_t *data, size_t size, void *client_ctx, void *server_ctx)</td></tr>
<tr class="separator:a9776df4de45728a0226ead2bb7617589"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga6af867ef4da1e1bf378b4fa1fd5306a8"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__ClientAPI.html#ga6af867ef4da1e1bf378b4fa1fd5306a8">uvrpc_client_call</a> (<a class="el" href="uvrpc_8h.html#a1f754da64a9851571460abe6b3b2660e">uvrpc_client_t</a> *client, const char *method, const uint8_t *params, size_t params_size, <a class="el" href="uvrpc_8h.html#a241ad81f8b36dd34ac051f74f48bce06">uvrpc_callback_t</a> callback, void *ctx)</td></tr>
<tr class="memdesc:ga6af867ef4da1e1bf378b4fa1fd5306a8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Call RPC method with automatic retry.  <a href="group__ClientAPI.html#ga6af867ef4da1e1bf378b4fa1fd5306a8">More...</a><br /></td></tr>
<tr class="separator:ga6af867ef4da1e1bf378b4fa1fd5306a8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga03e1268b4ea3a33131982d2c790ce4ef"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__ClientAPI.html#ga03e1268b4ea3a33131982d2c790ce4ef">uvrpc_client_call_batch</a> (<a class="el" href="uvrpc_8h.html#a1f754da64a9851571460abe6b3b2660e">uvrpc_client_t</a> *client, const char **methods, const uint8_t **params_array, size_t *params_sizes, <a class="el" href="uvrpc_8h.html#a241ad81f8b36dd34ac051f74f48bce06">uvrpc_callback_t</a> *callbacks, void **contexts, int count)</td></tr>
<tr class="memdesc:ga03e1268b4ea3a33131982d2c790ce4ef"><td class="mdescLeft">&#160;</td><td class="mdescRight">Call multiple RPC methods in batch.  <a href="group__ClientAPI.html#ga03e1268b4ea3a33131982d2c790ce4ef">More...</a><br /></td></tr>
<tr class="separator:ga03e1268b4ea3a33131982d2c790ce4ef"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga538d7541c4465c6bc24616281a0c23eb"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__ClientAPI.html#ga538d7541c4465c6bc24616281a0c23eb">uvrpc_client_call_no_retry</a> (<a class="el" href="uvrpc_8h.html#a1f754da64a9851571460abe6b3b2660e">uvrpc_client_t</a> *client, const char *method, const uint8_t *params, size_t params_size, <a class="el" href="uvrpc_8h.html#a241ad81f8b36dd34ac051f74f48bce06">uvrpc_callback_t</a> callback, void *ctx)</td></tr>
<tr class="memdesc:ga538d7541c4465c6bc24616281a0c23eb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Call RPC method without retry.  <a href="group__ClientAPI.html#ga538d7541c4465c6bc24616281a0c23eb">More...</a><br /></td></tr>
<tr class="separator:ga538d7541c4465c6bc24616281a0c23eb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad43836b44931f98d4be9facd703c9117"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="uvrpc__client_8c.html#ad43836b44931f98d4be9facd703c9117">uvrpc_client_call_no_retry_internal</a> (<a class="el" href="uvrpc_8h.html#a1f754da64a9851571460abe6b3b2660e">uvrpc_client_t</a> *client, const char *method, const uint8_t *params, size_t params_size, <a class="el" href="uvrpc_8h.html#a241ad81f8b36dd34ac051f74f48bce06">uvrpc_callback_t</a> callback, void *ctx)</td></tr>
<tr class="separator:ad43836b44931f98d4be9facd703c9117"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga6bbddb4ed697561628f473190beb0778"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__ClientAPI.html#ga6bbddb4ed697561628f473190beb0778">uvrpc_client_connect</a> (<a class="el" href="uvrpc_8h.html#a1f754da64a9851571460abe6b3b2660e">uvrpc_client_t</a> *client)</td></tr>
<tr class="memdesc:ga6bbddb4ed697561628f473190beb0778"><td class="mdescLeft">&#160;</td><td class="mdescRight">Connect to server synchronously.  <a href="group__ClientAPI.html#ga6bbddb4ed697561628f473190beb0778">More...</a><br /></td></tr>
<tr class="separator:ga6bbddb4ed697561628f473190beb0778"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga50b3c9e4d78f8c5f7212ac423a232aa7"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__ClientAPI.html#ga50b3c9e4d78f8c5f7212ac423a232aa7">uvrpc_client_connect_with_callback</a> (<a class="el" href="uvrpc_8h.html#a1f754da64a9851571460abe6b3b2660e">uvrpc_client_t</a> *client, <a class="el" href="uvrpc_8h.html#a31000545374020d4cb6d936363eb01b5">uvrpc_connect_callback_t</a> callback, void *ctx)</td></tr>
<tr class="memdesc:ga50b3c9e4d78f8c5f7212ac423a232aa7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Connect to server asynchronously.  <a href="group__ClientAPI.html#ga50b3c9e4d78f8c5f7212ac423a232aa7">More...</a><br /></td></tr>
<tr class="separator:ga50b3c9e4d78f8c5f7212ac423a232aa7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gac6ae0fa0576a1917661a711feef6abca"><td class="memItemLeft" align="right" valign="top"><a class="el" href="uvrpc_8h.html#a1f754da64a9851571460abe6b3b2660e">uvrpc_client_t</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__ClientAPI.html#gac6ae0fa0576a1917661a711feef6abca">uvrpc_client_create</a> (<a class="el" href="uvrpc_8h.html#a877e55a4f9d0b9b7ee1e89e1f5155c75">uvrpc_config_t</a> *config)</td></tr>
<tr class="memdesc:gac6ae0fa0576a1917661a711feef6abca"><td class="mdescLeft">&#160;</td><td class="mdescRight">Create a new RPC client.  <a href="group__ClientAPI.html#gac6ae0fa0576a1917661a711feef6abca">More...</a><br /></td></tr>
<tr class="separator:gac6ae0fa0576a1917661a711feef6abca"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gac55246e43dc3cbd60165ee1517a43ce0"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__ClientAPI.html#gac55246e43dc3cbd60165ee1517a43ce0">uvrpc_client_disconnect</a> (<a class="el" href="uvrpc_8h.html#a1f754da64a9851571460abe6b3b2660e">uvrpc_client_t</a> *client)</td></tr>
<tr class="memdesc:gac55246e43dc3cbd60165ee1517a43ce0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Disconnect from server.  <a href="group__ClientAPI.html#gac55246e43dc3cbd60165ee1517a43ce0">More...</a><br /></td></tr>
<tr class="separator:gac55246e43dc3cbd60165ee1517a43ce0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga57ce57d27900980d6b883a79e2064b61"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__ClientAPI.html#ga57ce57d27900980d6b883a79e2064b61">uvrpc_client_free</a> (<a class="el" href="uvrpc_8h.html#a1f754da64a9851571460abe6b3b2660e">uvrpc_client_t</a> *client)</td></tr>
<tr class="memdesc:ga57ce57d27900980d6b883a79e2064b61"><td class="mdescLeft">&#160;</td><td class="mdescRight">Free the client.  <a href="group__ClientAPI.html#ga57ce57d27900980d6b883a79e2064b61">More...</a><br /></td></tr>
<tr class="separator:ga57ce57d27900980d6b883a79e2064b61"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gabeb066fc3f6d0cf47d7bcbab5eae3e50"><td class="memItemLeft" align="right" valign="top"><a class="el" href="uvrpc_8h.html#a1267360dffceedbb9a190699dbe91c52">uvrpc_context_t</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__ClientAPI.html#gabeb066fc3f6d0cf47d7bcbab5eae3e50">uvrpc_client_get_context</a> (<a class="el" href="uvrpc_8h.html#a1f754da64a9851571460abe6b3b2660e">uvrpc_client_t</a> *client)</td></tr>
<tr class="memdesc:gabeb066fc3f6d0cf47d7bcbab5eae3e50"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get client context.  <a href="group__ClientAPI.html#gabeb066fc3f6d0cf47d7bcbab5eae3e50">More...</a><br /></td></tr>
<tr class="separator:gabeb066fc3f6d0cf47d7bcbab5eae3e50"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaa819744acd56567e16a34076ef8cf4ab"><td class="memItemLeft" align="right" valign="top">uv_loop_t *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__ClientAPI.html#gaa819744acd56567e16a34076ef8cf4ab">uvrpc_client_get_loop</a> (<a class="el" href="uvrpc_8h.html#a1f754da64a9851571460abe6b3b2660e">uvrpc_client_t</a> *client)</td></tr>
<tr class="memdesc:gaa819744acd56567e16a34076ef8cf4ab"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the event loop.  <a href="group__ClientAPI.html#gaa819744acd56567e16a34076ef8cf4ab">More...</a><br /></td></tr>
<tr class="separator:gaa819744acd56567e16a34076ef8cf4ab"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga6af0c71bc47c6c0ab15be4a5e3bdcaf6"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__ClientAPI.html#ga6af0c71bc47c6c0ab15be4a5e3bdcaf6">uvrpc_client_get_max_retries</a> (<a class="el" href="uvrpc_8h.html#a1f754da64a9851571460abe6b3b2660e">uvrpc_client_t</a> *client)</td></tr>
<tr class="memdesc:ga6af0c71bc47c6c0ab15be4a5e3bdcaf6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get maximum retry count.  <a href="group__ClientAPI.html#ga6af0c71bc47c6c0ab15be4a5e3bdcaf6">More...</a><br /></td></tr>
<tr class="separator:ga6af0c71bc47c6c0ab15be4a5e3bdcaf6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga71cc98cf4f74f367519494b6fddc45f8"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__ClientAPI.html#ga71cc98cf4f74f367519494b6fddc45f8">uvrpc_client_get_pending_count</a> (<a class="el" href="uvrpc_8h.html#a1f754da64a9851571460abe6b3b2660e">uvrpc_client_t</a> *client)</td></tr>
<tr class="memdesc:ga71cc98cf4f74f367519494b6fddc45f8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get pending request count.  <a href="group__ClientAPI.html#ga71cc98cf4f74f367519494b6fddc45f8">More...</a><br /></td></tr>
<tr class="separator:ga71cc98cf4f74f367519494b6fddc45f8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga9d2a0fd06a2f299032127d5b47f54bf9"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__ClientAPI.html#ga9d2a0fd06a2f299032127d5b47f54bf9">uvrpc_client_set_context</a> (<a class="el" href="uvrpc_8h.html#a1f754da64a9851571460abe6b3b2660e">uvrpc_client_t</a> *client, <a class="el" href="uvrpc_8h.html#a1267360dffceedbb9a190699dbe91c52">uvrpc_context_t</a> *ctx)</td></tr>
<tr class="memdesc:ga9d2a0fd06a2f299032127d5b47f54bf9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set client context.  <a href="group__ClientAPI.html#ga9d2a0fd06a2f299032127d5b47f54bf9">More...</a><br /></td></tr>
<tr class="separator:ga9d2a0fd06a2f299032127d5b47f54bf9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga3fffaee0b22282270b7a234e2cd2539d"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__ClientAPI.html#ga3fffaee0b22282270b7a234e2cd2539d">uvrpc_client_set_max_concurrent</a> (<a class="el" href="uvrpc_8h.html#a1f754da64a9851571460abe6b3b2660e">uvrpc_client_t</a> *client, int max_concurrent)</td></tr>
<tr class="memdesc:ga3fffaee0b22282270b7a234e2cd2539d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set maximum concurrent requests.  <a href="group__ClientAPI.html#ga3fffaee0b22282270b7a234e2cd2539d">More...</a><br /></td></tr>
<tr class="separator:ga3fffaee0b22282270b7a234e2cd2539d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga28909c12ab7a5fc91f98ae2459067b98"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__ClientAPI.html#ga28909c12ab7a5fc91f98ae2459067b98">uvrpc_client_set_max_retries</a> (<a class="el" href="uvrpc_8h.html#a1f754da64a9851571460abe6b3b2660e">uvrpc_client_t</a> *client, int max_retries)</td></tr>
<tr class="memdesc:ga28909c12ab7a5fc91f98ae2459067b98"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set maximum retry count.  <a href="group__ClientAPI.html#ga28909c12ab7a5fc91f98ae2459067b98">More...</a><br /></td></tr>
<tr class="separator:ga28909c12ab7a5fc91f98ae2459067b98"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gafb7e16788fb623e8ae12a671aaa2a99d"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__RequestResponseAPI.html#gafb7e16788fb623e8ae12a671aaa2a99d">uvrpc_response_free</a> (<a class="el" href="uvrpc_8h.html#a98a3781d6db51a19805fcefaab87b1aa">uvrpc_response_t</a> *resp)</td></tr>
<tr class="memdesc:gafb7e16788fb623e8ae12a671aaa2a99d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Free a response object.  <a href="group__RequestResponseAPI.html#gafb7e16788fb623e8ae12a671aaa2a99d">More...</a><br /></td></tr>
<tr class="separator:gafb7e16788fb623e8ae12a671aaa2a99d"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p >UVRPC Async Client Implementation. </p>
<p >Zero threads, Zero locks, Zero global variables All I/O managed by libuv event loop</p>
<dl class="section author"><dt>Author</dt><dd>UVRPC Team </dd></dl>
<dl class="section date"><dt>Date</dt><dd>2026 </dd></dl>
<dl class="section version"><dt>Version</dt><dd>1.0 </dd></dl>

<p class="definition">Definition in file <a class="el" href="uvrpc__client_8c_source.html">uvrpc_client.c</a>.</p>
</div><h2 class="groupheader">Typedef Documentation</h2>
<a id="a58e06cf77abc45d36956579a4a535ae6" name="a58e06cf77abc45d36956579a4a535ae6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a58e06cf77abc45d36956579a4a535ae6">&#9670;&nbsp;</a></span>pending_callback_t</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef struct <a class="el" href="structpending__callback.html">pending_callback</a> <a class="el" href="uvrpc__client_8c.html#a58e06cf77abc45d36956579a4a535ae6">pending_callback_t</a></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="a7ce15eabfef2abbe73267eda9cd0bb76" name="a7ce15eabfef2abbe73267eda9cd0bb76"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7ce15eabfef2abbe73267eda9cd0bb76">&#9670;&nbsp;</a></span>client_connect_callback()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void client_connect_callback </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>status</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>ctx</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="uvrpc__client_8c_source.html#l00065">65</a> of file <a class="el" href="uvrpc__client_8c_source.html">uvrpc_client.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   65</span>                                                           {</div>
<div class="line"><span class="lineno">   66</span>    <a class="code hl_struct" href="structuvrpc__client.html">uvrpc_client_t</a>* client = (<a class="code hl_struct" href="structuvrpc__client.html">uvrpc_client_t</a>*)ctx;</div>
<div class="line"><span class="lineno">   67</span>    client-&gt;<a class="code hl_variable" href="structuvrpc__client.html#a7421d0698d9356afe3536fbea367eb2e">is_connected</a> = (status == 0);</div>
<div class="line"><span class="lineno">   68</span>    </div>
<div class="line"><span class="lineno">   69</span>    <span class="comment">/* Call user&#39;s connect callback if provided */</span></div>
<div class="line"><span class="lineno">   70</span>    <span class="keywordflow">if</span> (client-&gt;<a class="code hl_variable" href="structuvrpc__client.html#afc30cab80268f2e18b464520bfe54fbf">user_connect_callback</a>) {</div>
<div class="line"><span class="lineno">   71</span>        <a class="code hl_typedef" href="uvrpc_8h.html#a31000545374020d4cb6d936363eb01b5">uvrpc_connect_callback_t</a> cb = client-&gt;<a class="code hl_variable" href="structuvrpc__client.html#afc30cab80268f2e18b464520bfe54fbf">user_connect_callback</a>;</div>
<div class="line"><span class="lineno">   72</span>        client-&gt;<a class="code hl_variable" href="structuvrpc__client.html#afc30cab80268f2e18b464520bfe54fbf">user_connect_callback</a> = NULL;</div>
<div class="line"><span class="lineno">   73</span>        cb(status, client-&gt;<a class="code hl_variable" href="structuvrpc__client.html#ad90ec3b4aeddd389243b157aec063b52">user_connect_ctx</a>);</div>
<div class="line"><span class="lineno">   74</span>    }</div>
<div class="line"><span class="lineno">   75</span>    </div>
<div class="line"><span class="lineno">   76</span>    <span class="keywordflow">if</span> (status != 0) {</div>
<div class="line"><span class="lineno">   77</span>        fprintf(stderr, <span class="stringliteral">&quot;Client connection failed: %d\n&quot;</span>, status);</div>
<div class="line"><span class="lineno">   78</span>    }</div>
<div class="line"><span class="lineno">   79</span>}</div>
<div class="ttc" id="astructuvrpc__client_html"><div class="ttname"><a href="structuvrpc__client.html">uvrpc_client</a></div><div class="ttdef"><b>Definition:</b> <a href="uvrpc__client_8c_source.html#l00029">uvrpc_client.c:29</a></div></div>
<div class="ttc" id="astructuvrpc__client_html_a7421d0698d9356afe3536fbea367eb2e"><div class="ttname"><a href="structuvrpc__client.html#a7421d0698d9356afe3536fbea367eb2e">uvrpc_client::is_connected</a></div><div class="ttdeci">int is_connected</div><div class="ttdef"><b>Definition:</b> <a href="uvrpc__client_8c_source.html#l00033">uvrpc_client.c:33</a></div></div>
<div class="ttc" id="astructuvrpc__client_html_ad90ec3b4aeddd389243b157aec063b52"><div class="ttname"><a href="structuvrpc__client.html#ad90ec3b4aeddd389243b157aec063b52">uvrpc_client::user_connect_ctx</a></div><div class="ttdeci">void * user_connect_ctx</div><div class="ttdef"><b>Definition:</b> <a href="uvrpc__client_8c_source.html#l00043">uvrpc_client.c:43</a></div></div>
<div class="ttc" id="astructuvrpc__client_html_afc30cab80268f2e18b464520bfe54fbf"><div class="ttname"><a href="structuvrpc__client.html#afc30cab80268f2e18b464520bfe54fbf">uvrpc_client::user_connect_callback</a></div><div class="ttdeci">uvrpc_connect_callback_t user_connect_callback</div><div class="ttdef"><b>Definition:</b> <a href="uvrpc__client_8c_source.html#l00042">uvrpc_client.c:42</a></div></div>
<div class="ttc" id="auvrpc_8h_html_a31000545374020d4cb6d936363eb01b5"><div class="ttname"><a href="uvrpc_8h.html#a31000545374020d4cb6d936363eb01b5">uvrpc_connect_callback_t</a></div><div class="ttdeci">void(* uvrpc_connect_callback_t)(int status, void *ctx)</div><div class="ttdoc">Connection state callback type.</div><div class="ttdef"><b>Definition:</b> <a href="uvrpc_8h_source.html#l00223">uvrpc.h:223</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="uvrpc__client_8c_source.html#l00033">uvrpc_client::is_connected</a>, <a class="el" href="uvrpc__client_8c_source.html#l00042">uvrpc_client::user_connect_callback</a>, and <a class="el" href="uvrpc__client_8c_source.html#l00043">uvrpc_client::user_connect_ctx</a>.</p>

<p class="reference">Referenced by <a class="el" href="uvrpc__client_8c_source.html#l00327">uvrpc_client_connect_with_callback()</a>, and <a class="el" href="uvrpc__client_8c_source.html#l00206">uvrpc_client_create()</a>.</p>

</div>
</div>
<a id="a9776df4de45728a0226ead2bb7617589" name="a9776df4de45728a0226ead2bb7617589"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9776df4de45728a0226ead2bb7617589">&#9670;&nbsp;</a></span>client_recv_callback()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void client_recv_callback </td>
          <td>(</td>
          <td class="paramtype">const uint8_t *&#160;</td>
          <td class="paramname"><em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>client_ctx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>server_ctx</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="uvrpc__client_8c_source.html#l00082">82</a> of file <a class="el" href="uvrpc__client_8c_source.html">uvrpc_client.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   82</span>                                                                                                       {</div>
<div class="line"><span class="lineno">   83</span>    (void)client_ctx;  <span class="comment">/* Not used for client mode */</span></div>
<div class="line"><span class="lineno">   84</span>    <a class="code hl_struct" href="structuvrpc__client.html">uvrpc_client_t</a>* client = (<a class="code hl_struct" href="structuvrpc__client.html">uvrpc_client_t</a>*)server_ctx;</div>
<div class="line"><span class="lineno">   85</span> </div>
<div class="line"><span class="lineno">   86</span>    <span class="keywordflow">if</span> (!client || !client-&gt;<a class="code hl_variable" href="structuvrpc__client.html#acfac3463a4cef18b4a2c2a428a054e4c">uvbus</a>) {</div>
<div class="line"><span class="lineno">   87</span>        <a class="code hl_function" href="group__AllocatorAPI.html#ga067f00c05f4a005dae8fc92d39875de4">uvrpc_free</a>(data);</div>
<div class="line"><span class="lineno">   88</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno">   89</span>    }</div>
<div class="line"><span class="lineno">   90</span> </div>
<div class="line"><span class="lineno">   91</span>    <span class="comment">/* Get frame type */</span></div>
<div class="line"><span class="lineno">   92</span>    <span class="keywordtype">int</span> frame_type = <a class="code hl_function" href="uvrpc__flatbuffers_8c.html#a978abede3b2489ad7ee853129366cd60">uvrpc_get_frame_type</a>(data, size);</div>
<div class="line"><span class="lineno">   93</span>    </div>
<div class="line"><span class="lineno">   94</span>    <span class="keywordflow">if</span> (frame_type &lt; 0) {</div>
<div class="line"><span class="lineno">   95</span>        <a class="code hl_function" href="group__AllocatorAPI.html#ga067f00c05f4a005dae8fc92d39875de4">uvrpc_free</a>(data);</div>
<div class="line"><span class="lineno">   96</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno">   97</span>    }</div>
<div class="line"><span class="lineno">   98</span> </div>
<div class="line"><span class="lineno">   99</span>    uint32_t msgid;</div>
<div class="line"><span class="lineno">  100</span> </div>
<div class="line"><span class="lineno">  101</span>    <span class="keywordflow">if</span> (frame_type == 3) {</div>
<div class="line"><span class="lineno">  102</span>        <span class="comment">/* Decode error frame */</span></div>
<div class="line"><span class="lineno">  103</span>        int32_t error_code = 0;</div>
<div class="line"><span class="lineno">  104</span>        <span class="keywordtype">char</span>* error_message = NULL;</div>
<div class="line"><span class="lineno">  105</span> </div>
<div class="line"><span class="lineno">  106</span>        <span class="keywordflow">if</span> (<a class="code hl_function" href="uvrpc__flatbuffers_8c.html#a00dc6679904a0df25134739e641863d2">uvrpc_decode_error</a>(data, size, &amp;msgid, &amp;error_code, &amp;error_message) != <a class="code hl_enumvalue" href="uvrpc_8h.html#a3395bc40082fb5185a07c39c649d3e72ac2c13b8fa81012294dc8e35d78e1d2d1">UVRPC_OK</a>) {</div>
<div class="line"><span class="lineno">  107</span>            <a class="code hl_function" href="group__AllocatorAPI.html#ga067f00c05f4a005dae8fc92d39875de4">uvrpc_free</a>(data);</div>
<div class="line"><span class="lineno">  108</span>            <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno">  109</span>        }</div>
<div class="line"><span class="lineno">  110</span> </div>
<div class="line"><span class="lineno">  111</span>        <span class="comment">/* Find pending callback using direct indexing with bitmask */</span></div>
<div class="line"><span class="lineno">  112</span>        uint32_t idx = msgid &amp; (client-&gt;<a class="code hl_variable" href="structuvrpc__client.html#a1a3352536300905ca9cb6803a3a9ae30">max_pending_callbacks</a> - 1);</div>
<div class="line"><span class="lineno">  113</span>        <a class="code hl_struct" href="structpending__callback.html">pending_callback_t</a>* pending = client-&gt;<a class="code hl_variable" href="structuvrpc__client.html#a00d69c3e34d9d61826ac3a73635a5840">pending_callbacks</a>[idx];</div>
<div class="line"><span class="lineno">  114</span> </div>
<div class="line"><span class="lineno">  115</span>        <span class="comment">/* Check if callback exists and matches msgid and generation */</span></div>
<div class="line"><span class="lineno">  116</span>        <span class="keywordflow">if</span> (pending &amp;&amp; pending-&gt;msgid == msgid &amp;&amp; pending-&gt;generation == client-&gt;<a class="code hl_variable" href="structuvrpc__client.html#ac066a70eb39edd358aea6ed5345d2f1f">generation</a>) {</div>
<div class="line"><span class="lineno">  117</span>            <span class="comment">/* Create error response structure */</span></div>
<div class="line"><span class="lineno">  118</span>            <a class="code hl_struct" href="structuvrpc__response.html">uvrpc_response_t</a> resp;</div>
<div class="line"><span class="lineno">  119</span>            resp.<a class="code hl_variable" href="structuvrpc__response.html#a1dd0f33ddb517085cbeecec5c4d912a9">status</a> = <a class="code hl_enumvalue" href="uvrpc_8h.html#a3395bc40082fb5185a07c39c649d3e72a01dc6ff93d6b6c548ff87f96bf31b4c7">UVRPC_ERROR</a>;</div>
<div class="line"><span class="lineno">  120</span>            resp.<a class="code hl_variable" href="structuvrpc__response.html#a726b2a490deb94abbf28263225d1a9da">msgid</a> = msgid;</div>
<div class="line"><span class="lineno">  121</span>            resp.<a class="code hl_variable" href="structuvrpc__response.html#a05774c32d7b54341f17bdb83c2908bfb">error_code</a> = error_code;</div>
<div class="line"><span class="lineno">  122</span>            resp.<a class="code hl_variable" href="structuvrpc__response.html#a3f38816ea2c105e21ee6998d3cd66e10">error_message</a> = error_message;</div>
<div class="line"><span class="lineno">  123</span>            resp.<a class="code hl_variable" href="structuvrpc__response.html#a3969f497758135051175c666bf7f0474">result</a> = NULL;</div>
<div class="line"><span class="lineno">  124</span>            resp.<a class="code hl_variable" href="structuvrpc__response.html#a18f53ae652916e2fccdfb1872f6d6e22">result_size</a> = 0;</div>
<div class="line"><span class="lineno">  125</span>            resp.<a class="code hl_variable" href="structuvrpc__response.html#a30ad243e92c9d04871e45ddd7ddb8646">user_data</a> = NULL;</div>
<div class="line"><span class="lineno">  126</span> </div>
<div class="line"><span class="lineno">  127</span>            <span class="comment">/* Remove from ring buffer before calling callback (to avoid re-entry) */</span></div>
<div class="line"><span class="lineno">  128</span>            client-&gt;<a class="code hl_variable" href="structuvrpc__client.html#a00d69c3e34d9d61826ac3a73635a5840">pending_callbacks</a>[idx] = NULL;</div>
<div class="line"><span class="lineno">  129</span> </div>
<div class="line"><span class="lineno">  130</span>            <span class="comment">/* Call callback */</span></div>
<div class="line"><span class="lineno">  131</span>            <span class="keywordflow">if</span> (pending-&gt;callback) {</div>
<div class="line"><span class="lineno">  132</span>                pending-&gt;<a class="code hl_variable" href="structpending__callback.html#a72ad740bf08f2a2bb254b4f3dbbf700c">callback</a>(&amp;resp, pending-&gt;ctx);</div>
<div class="line"><span class="lineno">  133</span>            }</div>
<div class="line"><span class="lineno">  134</span> </div>
<div class="line"><span class="lineno">  135</span>            <span class="comment">/* Free error message */</span></div>
<div class="line"><span class="lineno">  136</span>            <span class="keywordflow">if</span> (error_message) {</div>
<div class="line"><span class="lineno">  137</span>                <a class="code hl_function" href="group__AllocatorAPI.html#ga067f00c05f4a005dae8fc92d39875de4">uvrpc_free</a>(error_message);</div>
<div class="line"><span class="lineno">  138</span>            }</div>
<div class="line"><span class="lineno">  139</span> </div>
<div class="line"><span class="lineno">  140</span>            <span class="comment">/* Free pending callback structure */</span></div>
<div class="line"><span class="lineno">  141</span>            <a class="code hl_function" href="group__AllocatorAPI.html#ga067f00c05f4a005dae8fc92d39875de4">uvrpc_free</a>(pending);</div>
<div class="line"><span class="lineno">  142</span>        }</div>
<div class="line"><span class="lineno">  143</span> </div>
<div class="line"><span class="lineno">  144</span>        <a class="code hl_function" href="group__AllocatorAPI.html#ga067f00c05f4a005dae8fc92d39875de4">uvrpc_free</a>(data);</div>
<div class="line"><span class="lineno">  145</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno">  146</span>    }</div>
<div class="line"><span class="lineno">  147</span> </div>
<div class="line"><span class="lineno">  148</span>    <span class="comment">/* Decode response frame */</span></div>
<div class="line"><span class="lineno">  149</span>    <span class="keyword">const</span> uint8_t* result = NULL;</div>
<div class="line"><span class="lineno">  150</span>    <span class="keywordtype">size_t</span> result_size = 0;</div>
<div class="line"><span class="lineno">  151</span> </div>
<div class="line"><span class="lineno">  152</span>    <span class="keywordflow">if</span> (<a class="code hl_function" href="uvrpc__flatbuffers_8c.html#af563d0083169450f94fcea4815342dd4">uvrpc_decode_response</a>(data, size, &amp;msgid, &amp;result, &amp;result_size) != <a class="code hl_enumvalue" href="uvrpc_8h.html#a3395bc40082fb5185a07c39c649d3e72ac2c13b8fa81012294dc8e35d78e1d2d1">UVRPC_OK</a>) {</div>
<div class="line"><span class="lineno">  153</span>        <a class="code hl_function" href="group__AllocatorAPI.html#ga067f00c05f4a005dae8fc92d39875de4">uvrpc_free</a>(data);</div>
<div class="line"><span class="lineno">  154</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno">  155</span>    }</div>
<div class="line"><span class="lineno">  156</span> </div>
<div class="line"><span class="lineno">  157</span>    <span class="comment">/* Find pending callback using direct indexing with bitmask */</span></div>
<div class="line"><span class="lineno">  158</span>    uint32_t idx = msgid &amp; (client-&gt;<a class="code hl_variable" href="structuvrpc__client.html#a1a3352536300905ca9cb6803a3a9ae30">max_pending_callbacks</a> - 1);</div>
<div class="line"><span class="lineno">  159</span>    <a class="code hl_struct" href="structpending__callback.html">pending_callback_t</a>* pending = client-&gt;<a class="code hl_variable" href="structuvrpc__client.html#a00d69c3e34d9d61826ac3a73635a5840">pending_callbacks</a>[idx];</div>
<div class="line"><span class="lineno">  160</span>    </div>
<div class="line"><span class="lineno">  161</span>    <span class="comment">/* Check if callback exists and matches msgid and generation */</span></div>
<div class="line"><span class="lineno">  162</span>    <span class="keywordflow">if</span> (pending &amp;&amp; pending-&gt;msgid == msgid &amp;&amp; pending-&gt;generation == client-&gt;<a class="code hl_variable" href="structuvrpc__client.html#ac066a70eb39edd358aea6ed5345d2f1f">generation</a>) {</div>
<div class="line"><span class="lineno">  163</span>        <span class="comment">/* Create response structure */</span></div>
<div class="line"><span class="lineno">  164</span>        <a class="code hl_struct" href="structuvrpc__response.html">uvrpc_response_t</a> resp;</div>
<div class="line"><span class="lineno">  165</span>        resp.<a class="code hl_variable" href="structuvrpc__response.html#a1dd0f33ddb517085cbeecec5c4d912a9">status</a> = <a class="code hl_enumvalue" href="uvrpc_8h.html#a3395bc40082fb5185a07c39c649d3e72ac2c13b8fa81012294dc8e35d78e1d2d1">UVRPC_OK</a>;</div>
<div class="line"><span class="lineno">  166</span>        resp.<a class="code hl_variable" href="structuvrpc__response.html#a726b2a490deb94abbf28263225d1a9da">msgid</a> = msgid;</div>
<div class="line"><span class="lineno">  167</span>        resp.<a class="code hl_variable" href="structuvrpc__response.html#a05774c32d7b54341f17bdb83c2908bfb">error_code</a> = 0;</div>
<div class="line"><span class="lineno">  168</span>        resp.<a class="code hl_variable" href="structuvrpc__response.html#a3f38816ea2c105e21ee6998d3cd66e10">error_message</a> = NULL;</div>
<div class="line"><span class="lineno">  169</span> </div>
<div class="line"><span class="lineno">  170</span>        <span class="comment">/* Copy result data to avoid use-after-free */</span></div>
<div class="line"><span class="lineno">  171</span>        uint8_t* result_copy = NULL;</div>
<div class="line"><span class="lineno">  172</span>        <span class="keywordflow">if</span> (result &amp;&amp; result_size &gt; 0) {</div>
<div class="line"><span class="lineno">  173</span>            result_copy = <a class="code hl_function" href="group__AllocatorAPI.html#ga40028cd95db0b1659f90e48e1d732905">uvrpc_alloc</a>(result_size);</div>
<div class="line"><span class="lineno">  174</span>            <span class="keywordflow">if</span> (result_copy) {</div>
<div class="line"><span class="lineno">  175</span>                memcpy(result_copy, result, result_size);</div>
<div class="line"><span class="lineno">  176</span>            }</div>
<div class="line"><span class="lineno">  177</span>        }</div>
<div class="line"><span class="lineno">  178</span>        resp.<a class="code hl_variable" href="structuvrpc__response.html#a3969f497758135051175c666bf7f0474">result</a> = result_copy;</div>
<div class="line"><span class="lineno">  179</span>        resp.<a class="code hl_variable" href="structuvrpc__response.html#a18f53ae652916e2fccdfb1872f6d6e22">result_size</a> = result_size;</div>
<div class="line"><span class="lineno">  180</span>        resp.<a class="code hl_variable" href="structuvrpc__response.html#a30ad243e92c9d04871e45ddd7ddb8646">user_data</a> = NULL;</div>
<div class="line"><span class="lineno">  181</span> </div>
<div class="line"><span class="lineno">  182</span>        <span class="comment">/* Remove from ring buffer before calling callback (to avoid re-entry) */</span></div>
<div class="line"><span class="lineno">  183</span>        client-&gt;<a class="code hl_variable" href="structuvrpc__client.html#a00d69c3e34d9d61826ac3a73635a5840">pending_callbacks</a>[idx] = NULL;</div>
<div class="line"><span class="lineno">  184</span> </div>
<div class="line"><span class="lineno">  185</span>        <span class="comment">/* Call callback */</span></div>
<div class="line"><span class="lineno">  186</span>        <span class="keywordflow">if</span> (pending-&gt;callback) {</div>
<div class="line"><span class="lineno">  187</span>            pending-&gt;<a class="code hl_variable" href="structpending__callback.html#a72ad740bf08f2a2bb254b4f3dbbf700c">callback</a>(&amp;resp, pending-&gt;ctx);</div>
<div class="line"><span class="lineno">  188</span>        }</div>
<div class="line"><span class="lineno">  189</span> </div>
<div class="line"><span class="lineno">  190</span>        <span class="comment">/* Free copied result AFTER callback returns */</span></div>
<div class="line"><span class="lineno">  191</span>        <span class="keywordflow">if</span> (result_copy) {</div>
<div class="line"><span class="lineno">  192</span>            <a class="code hl_function" href="group__AllocatorAPI.html#ga067f00c05f4a005dae8fc92d39875de4">uvrpc_free</a>(result_copy);</div>
<div class="line"><span class="lineno">  193</span>        }</div>
<div class="line"><span class="lineno">  194</span> </div>
<div class="line"><span class="lineno">  195</span>        <span class="comment">/* Free pending callback structure */</span></div>
<div class="line"><span class="lineno">  196</span>        <a class="code hl_function" href="group__AllocatorAPI.html#ga067f00c05f4a005dae8fc92d39875de4">uvrpc_free</a>(pending);</div>
<div class="line"><span class="lineno">  197</span> </div>
<div class="line"><span class="lineno">  198</span>        <span class="comment">/* Decrease concurrent count */</span></div>
<div class="line"><span class="lineno">  199</span>            client-&gt;<a class="code hl_variable" href="structuvrpc__client.html#a52b6869550baab90a3231d544bed10bf">current_concurrent</a>--;</div>
<div class="line"><span class="lineno">  200</span>            }</div>
<div class="line"><span class="lineno">  201</span>        </div>
<div class="line"><span class="lineno">  202</span>            <span class="comment">/* NOTE: data is freed by the transport layer (uvbus_transport_tcp.c:181)</span></div>
<div class="line"><span class="lineno">  203</span><span class="comment">             * after the callback returns. Do NOT free it here to avoid double free. */</span>}</div>
<div class="ttc" id="agroup__AllocatorAPI_html_ga067f00c05f4a005dae8fc92d39875de4"><div class="ttname"><a href="group__AllocatorAPI.html#ga067f00c05f4a005dae8fc92d39875de4">uvrpc_free</a></div><div class="ttdeci">void uvrpc_free(void *ptr)</div><div class="ttdoc">Free memory.</div><div class="ttdef"><b>Definition:</b> <a href="uvrpc__allocator_8c_source.html#l00170">uvrpc_allocator.c:170</a></div></div>
<div class="ttc" id="agroup__AllocatorAPI_html_ga40028cd95db0b1659f90e48e1d732905"><div class="ttname"><a href="group__AllocatorAPI.html#ga40028cd95db0b1659f90e48e1d732905">uvrpc_alloc</a></div><div class="ttdeci">void * uvrpc_alloc(size_t size)</div><div class="ttdoc">Allocate memory.</div><div class="ttdef"><b>Definition:</b> <a href="uvrpc__allocator_8c_source.html#l00116">uvrpc_allocator.c:116</a></div></div>
<div class="ttc" id="astructpending__callback_html"><div class="ttname"><a href="structpending__callback.html">pending_callback</a></div><div class="ttdef"><b>Definition:</b> <a href="uvrpc__client_8c_source.html#l00021">uvrpc_client.c:21</a></div></div>
<div class="ttc" id="astructpending__callback_html_a72ad740bf08f2a2bb254b4f3dbbf700c"><div class="ttname"><a href="structpending__callback.html#a72ad740bf08f2a2bb254b4f3dbbf700c">pending_callback::callback</a></div><div class="ttdeci">uvrpc_callback_t callback</div><div class="ttdef"><b>Definition:</b> <a href="uvrpc__client_8c_source.html#l00024">uvrpc_client.c:24</a></div></div>
<div class="ttc" id="astructuvrpc__client_html_a00d69c3e34d9d61826ac3a73635a5840"><div class="ttname"><a href="structuvrpc__client.html#a00d69c3e34d9d61826ac3a73635a5840">uvrpc_client::pending_callbacks</a></div><div class="ttdeci">pending_callback_t ** pending_callbacks</div><div class="ttdef"><b>Definition:</b> <a href="uvrpc__client_8c_source.html#l00046">uvrpc_client.c:46</a></div></div>
<div class="ttc" id="astructuvrpc__client_html_a1a3352536300905ca9cb6803a3a9ae30"><div class="ttname"><a href="structuvrpc__client.html#a1a3352536300905ca9cb6803a3a9ae30">uvrpc_client::max_pending_callbacks</a></div><div class="ttdeci">int max_pending_callbacks</div><div class="ttdef"><b>Definition:</b> <a href="uvrpc__client_8c_source.html#l00047">uvrpc_client.c:47</a></div></div>
<div class="ttc" id="astructuvrpc__client_html_a52b6869550baab90a3231d544bed10bf"><div class="ttname"><a href="structuvrpc__client.html#a52b6869550baab90a3231d544bed10bf">uvrpc_client::current_concurrent</a></div><div class="ttdeci">int current_concurrent</div><div class="ttdef"><b>Definition:</b> <a href="uvrpc__client_8c_source.html#l00052">uvrpc_client.c:52</a></div></div>
<div class="ttc" id="astructuvrpc__client_html_ac066a70eb39edd358aea6ed5345d2f1f"><div class="ttname"><a href="structuvrpc__client.html#ac066a70eb39edd358aea6ed5345d2f1f">uvrpc_client::generation</a></div><div class="ttdeci">uint32_t generation</div><div class="ttdef"><b>Definition:</b> <a href="uvrpc__client_8c_source.html#l00048">uvrpc_client.c:48</a></div></div>
<div class="ttc" id="astructuvrpc__client_html_acfac3463a4cef18b4a2c2a428a054e4c"><div class="ttname"><a href="structuvrpc__client.html#acfac3463a4cef18b4a2c2a428a054e4c">uvrpc_client::uvbus</a></div><div class="ttdeci">uvbus_t * uvbus</div><div class="ttdef"><b>Definition:</b> <a href="uvrpc__client_8c_source.html#l00032">uvrpc_client.c:32</a></div></div>
<div class="ttc" id="astructuvrpc__response_html"><div class="ttname"><a href="structuvrpc__response.html">uvrpc_response</a></div><div class="ttdoc">RPC response structure (client-side)</div><div class="ttdef"><b>Definition:</b> <a href="uvrpc_8h_source.html#l00293">uvrpc.h:293</a></div></div>
<div class="ttc" id="astructuvrpc__response_html_a05774c32d7b54341f17bdb83c2908bfb"><div class="ttname"><a href="structuvrpc__response.html#a05774c32d7b54341f17bdb83c2908bfb">uvrpc_response::error_code</a></div><div class="ttdeci">int32_t error_code</div><div class="ttdoc">RPC error code (0 for success)</div><div class="ttdef"><b>Definition:</b> <a href="uvrpc_8h_source.html#l00296">uvrpc.h:296</a></div></div>
<div class="ttc" id="astructuvrpc__response_html_a18f53ae652916e2fccdfb1872f6d6e22"><div class="ttname"><a href="structuvrpc__response.html#a18f53ae652916e2fccdfb1872f6d6e22">uvrpc_response::result_size</a></div><div class="ttdeci">size_t result_size</div><div class="ttdoc">Size of result buffer.</div><div class="ttdef"><b>Definition:</b> <a href="uvrpc_8h_source.html#l00299">uvrpc.h:299</a></div></div>
<div class="ttc" id="astructuvrpc__response_html_a1dd0f33ddb517085cbeecec5c4d912a9"><div class="ttname"><a href="structuvrpc__response.html#a1dd0f33ddb517085cbeecec5c4d912a9">uvrpc_response::status</a></div><div class="ttdeci">int status</div><div class="ttdoc">Response status (0 for success)</div><div class="ttdef"><b>Definition:</b> <a href="uvrpc_8h_source.html#l00294">uvrpc.h:294</a></div></div>
<div class="ttc" id="astructuvrpc__response_html_a30ad243e92c9d04871e45ddd7ddb8646"><div class="ttname"><a href="structuvrpc__response.html#a30ad243e92c9d04871e45ddd7ddb8646">uvrpc_response::user_data</a></div><div class="ttdeci">void * user_data</div><div class="ttdoc">User-defined data.</div><div class="ttdef"><b>Definition:</b> <a href="uvrpc_8h_source.html#l00300">uvrpc.h:300</a></div></div>
<div class="ttc" id="astructuvrpc__response_html_a3969f497758135051175c666bf7f0474"><div class="ttname"><a href="structuvrpc__response.html#a3969f497758135051175c666bf7f0474">uvrpc_response::result</a></div><div class="ttdeci">uint8_t * result</div><div class="ttdoc">Response result data (valid only during callback)</div><div class="ttdef"><b>Definition:</b> <a href="uvrpc_8h_source.html#l00298">uvrpc.h:298</a></div></div>
<div class="ttc" id="astructuvrpc__response_html_a3f38816ea2c105e21ee6998d3cd66e10"><div class="ttname"><a href="structuvrpc__response.html#a3f38816ea2c105e21ee6998d3cd66e10">uvrpc_response::error_message</a></div><div class="ttdeci">char * error_message</div><div class="ttdoc">Error message (if error_code != 0)</div><div class="ttdef"><b>Definition:</b> <a href="uvrpc_8h_source.html#l00297">uvrpc.h:297</a></div></div>
<div class="ttc" id="astructuvrpc__response_html_a726b2a490deb94abbf28263225d1a9da"><div class="ttname"><a href="structuvrpc__response.html#a726b2a490deb94abbf28263225d1a9da">uvrpc_response::msgid</a></div><div class="ttdeci">uint32_t msgid</div><div class="ttdoc">Message ID matching the request.</div><div class="ttdef"><b>Definition:</b> <a href="uvrpc_8h_source.html#l00295">uvrpc.h:295</a></div></div>
<div class="ttc" id="auvrpc_8h_html_a3395bc40082fb5185a07c39c649d3e72a01dc6ff93d6b6c548ff87f96bf31b4c7"><div class="ttname"><a href="uvrpc_8h.html#a3395bc40082fb5185a07c39c649d3e72a01dc6ff93d6b6c548ff87f96bf31b4c7">UVRPC_ERROR</a></div><div class="ttdeci">@ UVRPC_ERROR</div><div class="ttdoc">General error.</div><div class="ttdef"><b>Definition:</b> <a href="uvrpc_8h_source.html#l00044">uvrpc.h:44</a></div></div>
<div class="ttc" id="auvrpc_8h_html_a3395bc40082fb5185a07c39c649d3e72ac2c13b8fa81012294dc8e35d78e1d2d1"><div class="ttname"><a href="uvrpc_8h.html#a3395bc40082fb5185a07c39c649d3e72ac2c13b8fa81012294dc8e35d78e1d2d1">UVRPC_OK</a></div><div class="ttdeci">@ UVRPC_OK</div><div class="ttdoc">Operation successful.</div><div class="ttdef"><b>Definition:</b> <a href="uvrpc_8h_source.html#l00043">uvrpc.h:43</a></div></div>
<div class="ttc" id="auvrpc__flatbuffers_8c_html_a00dc6679904a0df25134739e641863d2"><div class="ttname"><a href="uvrpc__flatbuffers_8c.html#a00dc6679904a0df25134739e641863d2">uvrpc_decode_error</a></div><div class="ttdeci">int uvrpc_decode_error(const uint8_t *data, size_t size, uint32_t *out_msgid, int32_t *out_error_code, char **out_error_message)</div><div class="ttdef"><b>Definition:</b> <a href="uvrpc__flatbuffers_8c_source.html#l00186">uvrpc_flatbuffers.c:186</a></div></div>
<div class="ttc" id="auvrpc__flatbuffers_8c_html_a978abede3b2489ad7ee853129366cd60"><div class="ttname"><a href="uvrpc__flatbuffers_8c.html#a978abede3b2489ad7ee853129366cd60">uvrpc_get_frame_type</a></div><div class="ttdeci">int uvrpc_get_frame_type(const uint8_t *data, size_t size)</div><div class="ttdef"><b>Definition:</b> <a href="uvrpc__flatbuffers_8c_source.html#l00222">uvrpc_flatbuffers.c:222</a></div></div>
<div class="ttc" id="auvrpc__flatbuffers_8c_html_af563d0083169450f94fcea4815342dd4"><div class="ttname"><a href="uvrpc__flatbuffers_8c.html#af563d0083169450f94fcea4815342dd4">uvrpc_decode_response</a></div><div class="ttdeci">int uvrpc_decode_response(const uint8_t *data, size_t size, uint32_t *out_msgid, const uint8_t **out_result, size_t *out_result_size)</div><div class="ttdef"><b>Definition:</b> <a href="uvrpc__flatbuffers_8c_source.html#l00113">uvrpc_flatbuffers.c:113</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="uvrpc__client_8c_source.html#l00024">pending_callback::callback</a>, <a class="el" href="uvrpc__client_8c_source.html#l00052">uvrpc_client::current_concurrent</a>, <a class="el" href="uvrpc_8h_source.html#l00296">uvrpc_response::error_code</a>, <a class="el" href="uvrpc_8h_source.html#l00297">uvrpc_response::error_message</a>, <a class="el" href="uvrpc__client_8c_source.html#l00048">uvrpc_client::generation</a>, <a class="el" href="uvrpc__client_8c_source.html#l00047">uvrpc_client::max_pending_callbacks</a>, <a class="el" href="uvrpc_8h_source.html#l00295">uvrpc_response::msgid</a>, <a class="el" href="uvrpc__client_8c_source.html#l00046">uvrpc_client::pending_callbacks</a>, <a class="el" href="uvrpc_8h_source.html#l00298">uvrpc_response::result</a>, <a class="el" href="uvrpc_8h_source.html#l00299">uvrpc_response::result_size</a>, <a class="el" href="uvrpc_8h_source.html#l00294">uvrpc_response::status</a>, <a class="el" href="uvrpc_8h_source.html#l00300">uvrpc_response::user_data</a>, <a class="el" href="uvrpc__client_8c_source.html#l00032">uvrpc_client::uvbus</a>, <a class="el" href="uvrpc__allocator_8c_source.html#l00116">uvrpc_alloc()</a>, <a class="el" href="uvrpc__flatbuffers_8c_source.html#l00186">uvrpc_decode_error()</a>, <a class="el" href="uvrpc__flatbuffers_8c_source.html#l00113">uvrpc_decode_response()</a>, <a class="el" href="uvrpc_8h_source.html#l00044">UVRPC_ERROR</a>, <a class="el" href="uvrpc__allocator_8c_source.html#l00170">uvrpc_free()</a>, <a class="el" href="uvrpc__flatbuffers_8c_source.html#l00222">uvrpc_get_frame_type()</a>, and <a class="el" href="uvrpc_8h_source.html#l00043">UVRPC_OK</a>.</p>

<p class="reference">Referenced by <a class="el" href="uvrpc__client_8c_source.html#l00206">uvrpc_client_create()</a>.</p>

</div>
</div>
<a id="ad43836b44931f98d4be9facd703c9117" name="ad43836b44931f98d4be9facd703c9117"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad43836b44931f98d4be9facd703c9117">&#9670;&nbsp;</a></span>uvrpc_client_call_no_retry_internal()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int uvrpc_client_call_no_retry_internal </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="uvrpc_8h.html#a1f754da64a9851571460abe6b3b2660e">uvrpc_client_t</a> *&#160;</td>
          <td class="paramname"><em>client</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>method</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const uint8_t *&#160;</td>
          <td class="paramname"><em>params</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>params_size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="uvrpc_8h.html#a241ad81f8b36dd34ac051f74f48bce06">uvrpc_callback_t</a>&#160;</td>
          <td class="paramname"><em>callback</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>ctx</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="uvrpc__client_8c_source.html#l00437">437</a> of file <a class="el" href="uvrpc__client_8c_source.html">uvrpc_client.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  439</span>                                                                                      {</div>
<div class="line"><span class="lineno">  440</span>    <span class="keywordflow">if</span> (!client || !method) <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="uvrpc_8h.html#a3395bc40082fb5185a07c39c649d3e72a8d73874fe8173df9dd37c1f73799d00d">UVRPC_ERROR_INVALID_PARAM</a>;</div>
<div class="line"><span class="lineno">  441</span>    </div>
<div class="line"><span class="lineno">  442</span>    <span class="keywordflow">if</span> (!client-&gt;<a class="code hl_variable" href="structuvrpc__client.html#a7421d0698d9356afe3536fbea367eb2e">is_connected</a>) {</div>
<div class="line"><span class="lineno">  443</span>        <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="uvrpc_8h.html#a3395bc40082fb5185a07c39c649d3e72a112348e491c471442e8de62275f531c9">UVRPC_ERROR_NOT_CONNECTED</a>;</div>
<div class="line"><span class="lineno">  444</span>    }</div>
<div class="line"><span class="lineno">  445</span>    </div>
<div class="line"><span class="lineno">  446</span>    <span class="comment">/* Generate message ID using context */</span></div>
<div class="line"><span class="lineno">  447</span>    uint32_t msgid = <a class="code hl_function" href="uvrpc__msgid_8c.html#a932e18db85429d253aeb248bbc2effcc">uvrpc_msgid_next</a>(client-&gt;<a class="code hl_variable" href="structuvrpc__client.html#a241a38a59c683cb191953386b453294e">msgid_ctx</a>);</div>
<div class="line"><span class="lineno">  448</span>    </div>
<div class="line"><span class="lineno">  449</span>    <span class="comment">/* Encode request */</span></div>
<div class="line"><span class="lineno">  450</span>    uint8_t* req_data = NULL;</div>
<div class="line"><span class="lineno">  451</span>    <span class="keywordtype">size_t</span> req_size = 0;</div>
<div class="line"><span class="lineno">  452</span>    </div>
<div class="line"><span class="lineno">  453</span>    <span class="keywordflow">if</span> (<a class="code hl_function" href="uvrpc__flatbuffers_8c.html#a35b5e5bb78223c22e4159434a6ee8fcb">uvrpc_encode_request</a>(msgid, method, params, params_size,</div>
<div class="line"><span class="lineno">  454</span>                              &amp;req_data, &amp;req_size) != <a class="code hl_enumvalue" href="uvrpc_8h.html#a3395bc40082fb5185a07c39c649d3e72ac2c13b8fa81012294dc8e35d78e1d2d1">UVRPC_OK</a>) {</div>
<div class="line"><span class="lineno">  455</span>        <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="uvrpc_8h.html#a3395bc40082fb5185a07c39c649d3e72a01dc6ff93d6b6c548ff87f96bf31b4c7">UVRPC_ERROR</a>;</div>
<div class="line"><span class="lineno">  456</span>    }</div>
<div class="line"><span class="lineno">  457</span>    </div>
<div class="line"><span class="lineno">  458</span>    <span class="comment">/* Register callback using direct indexing */</span></div>
<div class="line"><span class="lineno">  459</span>    <span class="keywordflow">if</span> (callback) {</div>
<div class="line"><span class="lineno">  460</span>        <a class="code hl_struct" href="structpending__callback.html">pending_callback_t</a>* pending = <a class="code hl_function" href="group__AllocatorAPI.html#ga91fe7dfcd5db69a938f8e8e9291677ae">uvrpc_calloc</a>(1, <span class="keyword">sizeof</span>(<a class="code hl_struct" href="structpending__callback.html">pending_callback_t</a>));</div>
<div class="line"><span class="lineno">  461</span>        <span class="keywordflow">if</span> (!pending) {</div>
<div class="line"><span class="lineno">  462</span>            <a class="code hl_function" href="group__AllocatorAPI.html#ga067f00c05f4a005dae8fc92d39875de4">uvrpc_free</a>(req_data);</div>
<div class="line"><span class="lineno">  463</span>            <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="uvrpc_8h.html#a3395bc40082fb5185a07c39c649d3e72af77fe4914a80f34a820ee3160360256c">UVRPC_ERROR_NO_MEMORY</a>;</div>
<div class="line"><span class="lineno">  464</span>        }</div>
<div class="line"><span class="lineno">  465</span> </div>
<div class="line"><span class="lineno">  466</span>        pending-&gt;<a class="code hl_variable" href="structpending__callback.html#a2025a84ee85c64cc6ae3118b97c850a1">msgid</a> = msgid;</div>
<div class="line"><span class="lineno">  467</span>        pending-&gt;<a class="code hl_variable" href="structpending__callback.html#aa651a86e28430b8c8f6a803ae02c9a2e">generation</a> = client-&gt;<a class="code hl_variable" href="structuvrpc__client.html#ac066a70eb39edd358aea6ed5345d2f1f">generation</a>;</div>
<div class="line"><span class="lineno">  468</span>        pending-&gt;<a class="code hl_variable" href="structpending__callback.html#a72ad740bf08f2a2bb254b4f3dbbf700c">callback</a> = callback;</div>
<div class="line"><span class="lineno">  469</span>        pending-&gt;<a class="code hl_variable" href="structpending__callback.html#ad0dd8bce2c867fae8245efd96754d64b">ctx</a> = ctx;</div>
<div class="line"><span class="lineno">  470</span> </div>
<div class="line"><span class="lineno">  471</span>        <span class="comment">/* Direct indexing with bitmask - O(1) */</span></div>
<div class="line"><span class="lineno">  472</span>        uint32_t idx = msgid &amp; (client-&gt;<a class="code hl_variable" href="structuvrpc__client.html#a1a3352536300905ca9cb6803a3a9ae30">max_pending_callbacks</a> - 1);</div>
<div class="line"><span class="lineno">  473</span>        <a class="code hl_struct" href="structpending__callback.html">pending_callback_t</a>* existing = client-&gt;<a class="code hl_variable" href="structuvrpc__client.html#a00d69c3e34d9d61826ac3a73635a5840">pending_callbacks</a>[idx];</div>
<div class="line"><span class="lineno">  474</span> </div>
<div class="line"><span class="lineno">  475</span>        <span class="keywordflow">if</span> (existing == NULL) {</div>
<div class="line"><span class="lineno">  476</span>            <span class="comment">/* Slot is empty - insert directly */</span></div>
<div class="line"><span class="lineno">  477</span>            client-&gt;<a class="code hl_variable" href="structuvrpc__client.html#a00d69c3e34d9d61826ac3a73635a5840">pending_callbacks</a>[idx] = pending;</div>
<div class="line"><span class="lineno">  478</span>        } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (existing-&gt;generation != client-&gt;<a class="code hl_variable" href="structuvrpc__client.html#ac066a70eb39edd358aea6ed5345d2f1f">generation</a>) {</div>
<div class="line"><span class="lineno">  479</span>            <span class="comment">/* Stale entry from previous generation - replace it */</span></div>
<div class="line"><span class="lineno">  480</span>            <a class="code hl_function" href="group__AllocatorAPI.html#ga067f00c05f4a005dae8fc92d39875de4">uvrpc_free</a>(existing);</div>
<div class="line"><span class="lineno">  481</span>            client-&gt;<a class="code hl_variable" href="structuvrpc__client.html#a00d69c3e34d9d61826ac3a73635a5840">pending_callbacks</a>[idx] = pending;</div>
<div class="line"><span class="lineno">  482</span>        } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  483</span>            <span class="comment">/* Slot is occupied by a valid entry - ring buffer is effectively full */</span></div>
<div class="line"><span class="lineno">  484</span>            <span class="comment">/* Do NOT block the event loop - return error and let caller handle it */</span></div>
<div class="line"><span class="lineno">  485</span>            <a class="code hl_function" href="group__AllocatorAPI.html#ga067f00c05f4a005dae8fc92d39875de4">uvrpc_free</a>(pending);</div>
<div class="line"><span class="lineno">  486</span>            <a class="code hl_function" href="group__AllocatorAPI.html#ga067f00c05f4a005dae8fc92d39875de4">uvrpc_free</a>(req_data);</div>
<div class="line"><span class="lineno">  487</span>            <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="uvrpc_8h.html#a3395bc40082fb5185a07c39c649d3e72aeee48b8f1166f6154a2be034ef241e24">UVRPC_ERROR_CALLBACK_LIMIT</a>;</div>
<div class="line"><span class="lineno">  488</span>        }</div>
<div class="line"><span class="lineno">  489</span>    }</div>
<div class="line"><span class="lineno">  490</span> </div>
<div class="line"><span class="lineno">  491</span>    <span class="comment">/* Send request (must be after callback registration to avoid race conditions) */</span></div>
<div class="line"><span class="lineno">  492</span>    <span class="keywordflow">if</span> (client-&gt;<a class="code hl_variable" href="structuvrpc__client.html#acfac3463a4cef18b4a2c2a428a054e4c">uvbus</a>) {</div>
<div class="line"><span class="lineno">  493</span>        <a class="code hl_function" href="uvbus_8h.html#a0b133ff80c5fc9e4fd017471c58f9d6c">uvbus_send</a>(client-&gt;<a class="code hl_variable" href="structuvrpc__client.html#acfac3463a4cef18b4a2c2a428a054e4c">uvbus</a>, req_data, req_size);</div>
<div class="line"><span class="lineno">  494</span>    }</div>
<div class="line"><span class="lineno">  495</span> </div>
<div class="line"><span class="lineno">  496</span>    <a class="code hl_function" href="group__AllocatorAPI.html#ga067f00c05f4a005dae8fc92d39875de4">uvrpc_free</a>(req_data);</div>
<div class="line"><span class="lineno">  497</span> </div>
<div class="line"><span class="lineno">  498</span>    <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="uvrpc_8h.html#a3395bc40082fb5185a07c39c649d3e72ac2c13b8fa81012294dc8e35d78e1d2d1">UVRPC_OK</a>;</div>
<div class="line"><span class="lineno">  499</span>}</div>
<div class="ttc" id="agroup__AllocatorAPI_html_ga91fe7dfcd5db69a938f8e8e9291677ae"><div class="ttname"><a href="group__AllocatorAPI.html#ga91fe7dfcd5db69a938f8e8e9291677ae">uvrpc_calloc</a></div><div class="ttdeci">void * uvrpc_calloc(size_t count, size_t size)</div><div class="ttdoc">Allocate zero-initialized memory.</div><div class="ttdef"><b>Definition:</b> <a href="uvrpc__allocator_8c_source.html#l00134">uvrpc_allocator.c:134</a></div></div>
<div class="ttc" id="astructpending__callback_html_a2025a84ee85c64cc6ae3118b97c850a1"><div class="ttname"><a href="structpending__callback.html#a2025a84ee85c64cc6ae3118b97c850a1">pending_callback::msgid</a></div><div class="ttdeci">uint32_t msgid</div><div class="ttdef"><b>Definition:</b> <a href="uvrpc__client_8c_source.html#l00022">uvrpc_client.c:22</a></div></div>
<div class="ttc" id="astructpending__callback_html_aa651a86e28430b8c8f6a803ae02c9a2e"><div class="ttname"><a href="structpending__callback.html#aa651a86e28430b8c8f6a803ae02c9a2e">pending_callback::generation</a></div><div class="ttdeci">uint32_t generation</div><div class="ttdef"><b>Definition:</b> <a href="uvrpc__client_8c_source.html#l00023">uvrpc_client.c:23</a></div></div>
<div class="ttc" id="astructpending__callback_html_ad0dd8bce2c867fae8245efd96754d64b"><div class="ttname"><a href="structpending__callback.html#ad0dd8bce2c867fae8245efd96754d64b">pending_callback::ctx</a></div><div class="ttdeci">void * ctx</div><div class="ttdef"><b>Definition:</b> <a href="uvrpc__client_8c_source.html#l00025">uvrpc_client.c:25</a></div></div>
<div class="ttc" id="astructuvrpc__client_html_a241a38a59c683cb191953386b453294e"><div class="ttname"><a href="structuvrpc__client.html#a241a38a59c683cb191953386b453294e">uvrpc_client::msgid_ctx</a></div><div class="ttdeci">uvrpc_msgid_ctx_t * msgid_ctx</div><div class="ttdef"><b>Definition:</b> <a href="uvrpc__client_8c_source.html#l00034">uvrpc_client.c:34</a></div></div>
<div class="ttc" id="auvbus_8h_html_a0b133ff80c5fc9e4fd017471c58f9d6c"><div class="ttname"><a href="uvbus_8h.html#a0b133ff80c5fc9e4fd017471c58f9d6c">uvbus_send</a></div><div class="ttdeci">uvbus_error_t uvbus_send(uvbus_t *bus, const uint8_t *data, size_t size)</div><div class="ttdef"><b>Definition:</b> <a href="uvbus_8c_source.html#l00226">uvbus.c:226</a></div></div>
<div class="ttc" id="auvrpc_8h_html_a3395bc40082fb5185a07c39c649d3e72a112348e491c471442e8de62275f531c9"><div class="ttname"><a href="uvrpc_8h.html#a3395bc40082fb5185a07c39c649d3e72a112348e491c471442e8de62275f531c9">UVRPC_ERROR_NOT_CONNECTED</a></div><div class="ttdeci">@ UVRPC_ERROR_NOT_CONNECTED</div><div class="ttdoc">Not connected to server.</div><div class="ttdef"><b>Definition:</b> <a href="uvrpc_8h_source.html#l00047">uvrpc.h:47</a></div></div>
<div class="ttc" id="auvrpc_8h_html_a3395bc40082fb5185a07c39c649d3e72a8d73874fe8173df9dd37c1f73799d00d"><div class="ttname"><a href="uvrpc_8h.html#a3395bc40082fb5185a07c39c649d3e72a8d73874fe8173df9dd37c1f73799d00d">UVRPC_ERROR_INVALID_PARAM</a></div><div class="ttdeci">@ UVRPC_ERROR_INVALID_PARAM</div><div class="ttdoc">Invalid parameter provided.</div><div class="ttdef"><b>Definition:</b> <a href="uvrpc_8h_source.html#l00045">uvrpc.h:45</a></div></div>
<div class="ttc" id="auvrpc_8h_html_a3395bc40082fb5185a07c39c649d3e72aeee48b8f1166f6154a2be034ef241e24"><div class="ttname"><a href="uvrpc_8h.html#a3395bc40082fb5185a07c39c649d3e72aeee48b8f1166f6154a2be034ef241e24">UVRPC_ERROR_CALLBACK_LIMIT</a></div><div class="ttdeci">@ UVRPC_ERROR_CALLBACK_LIMIT</div><div class="ttdoc">Callback limit exceeded.</div><div class="ttdef"><b>Definition:</b> <a href="uvrpc_8h_source.html#l00050">uvrpc.h:50</a></div></div>
<div class="ttc" id="auvrpc_8h_html_a3395bc40082fb5185a07c39c649d3e72af77fe4914a80f34a820ee3160360256c"><div class="ttname"><a href="uvrpc_8h.html#a3395bc40082fb5185a07c39c649d3e72af77fe4914a80f34a820ee3160360256c">UVRPC_ERROR_NO_MEMORY</a></div><div class="ttdeci">@ UVRPC_ERROR_NO_MEMORY</div><div class="ttdoc">Memory allocation failed.</div><div class="ttdef"><b>Definition:</b> <a href="uvrpc_8h_source.html#l00046">uvrpc.h:46</a></div></div>
<div class="ttc" id="auvrpc__flatbuffers_8c_html_a35b5e5bb78223c22e4159434a6ee8fcb"><div class="ttname"><a href="uvrpc__flatbuffers_8c.html#a35b5e5bb78223c22e4159434a6ee8fcb">uvrpc_encode_request</a></div><div class="ttdeci">int uvrpc_encode_request(uint32_t msgid, const char *method, const uint8_t *params, size_t params_size, uint8_t **out_data, size_t *out_size)</div><div class="ttdef"><b>Definition:</b> <a href="uvrpc__flatbuffers_8c_source.html#l00014">uvrpc_flatbuffers.c:14</a></div></div>
<div class="ttc" id="auvrpc__msgid_8c_html_a932e18db85429d253aeb248bbc2effcc"><div class="ttname"><a href="uvrpc__msgid_8c.html#a932e18db85429d253aeb248bbc2effcc">uvrpc_msgid_next</a></div><div class="ttdeci">uint32_t uvrpc_msgid_next(uvrpc_msgid_ctx_t *ctx)</div><div class="ttdef"><b>Definition:</b> <a href="uvrpc__msgid_8c_source.html#l00034">uvrpc_msgid.c:34</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="uvrpc__client_8c_source.html#l00024">pending_callback::callback</a>, <a class="el" href="uvrpc__client_8c_source.html#l00025">pending_callback::ctx</a>, <a class="el" href="uvrpc__client_8c_source.html#l00023">pending_callback::generation</a>, <a class="el" href="uvrpc__client_8c_source.html#l00048">uvrpc_client::generation</a>, <a class="el" href="uvrpc__client_8c_source.html#l00033">uvrpc_client::is_connected</a>, <a class="el" href="uvrpc__client_8c_source.html#l00047">uvrpc_client::max_pending_callbacks</a>, <a class="el" href="uvrpc__client_8c_source.html#l00022">pending_callback::msgid</a>, <a class="el" href="uvrpc__client_8c_source.html#l00034">uvrpc_client::msgid_ctx</a>, <a class="el" href="uvrpc__client_8c_source.html#l00046">uvrpc_client::pending_callbacks</a>, <a class="el" href="uvrpc__client_8c_source.html#l00032">uvrpc_client::uvbus</a>, <a class="el" href="uvbus_8c_source.html#l00226">uvbus_send()</a>, <a class="el" href="uvrpc__allocator_8c_source.html#l00134">uvrpc_calloc()</a>, <a class="el" href="uvrpc__flatbuffers_8c_source.html#l00014">uvrpc_encode_request()</a>, <a class="el" href="uvrpc_8h_source.html#l00044">UVRPC_ERROR</a>, <a class="el" href="uvrpc_8h_source.html#l00050">UVRPC_ERROR_CALLBACK_LIMIT</a>, <a class="el" href="uvrpc_8h_source.html#l00045">UVRPC_ERROR_INVALID_PARAM</a>, <a class="el" href="uvrpc_8h_source.html#l00046">UVRPC_ERROR_NO_MEMORY</a>, <a class="el" href="uvrpc_8h_source.html#l00047">UVRPC_ERROR_NOT_CONNECTED</a>, <a class="el" href="uvrpc__allocator_8c_source.html#l00170">uvrpc_free()</a>, <a class="el" href="uvrpc__msgid_8c_source.html#l00034">uvrpc_msgid_next()</a>, and <a class="el" href="uvrpc_8h_source.html#l00043">UVRPC_OK</a>.</p>

<p class="reference">Referenced by <a class="el" href="uvrpc__client_8c_source.html#l00502">uvrpc_client_call()</a>, and <a class="el" href="uvrpc__client_8c_source.html#l00532">uvrpc_client_call_no_retry()</a>.</p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.4
</small></address>
</body>
</html>
